{% extends "base.html" %}

{% block title %}{{ note.title }}{% endblock %}

{% block head_styles %}
    <style>
        .section { margin-bottom: 2rem; border-bottom: 1px solid #eee; padding-bottom: 2rem; }
        .section:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
        .note-meta { font-size: 0.9rem; color: #888; margin-bottom: 1.5rem; }
        .note-content { white-space: pre-wrap; line-height: 1.6; }
        .actions { margin-top: 2rem; display: flex; justify-content: flex-end; align-items: center; gap: 1rem; }
        form { display: flex; flex-direction: column; }
        label { margin-bottom: 0.5rem; font-weight: bold; }
        input, textarea { padding: 0.8rem; margin-bottom: 1rem; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem; }
        textarea { resize: vertical; min-height: 150px; }
    </style>
{% endblock %}

{% block content %}
    <!-- بخش نمایش یادداشت -->
    <div class="section">
        <h1>{{ note.title }}</h1>
        <p class="note-meta">
            <strong>Created:</strong> {{ note.created_at.strftime('%Y-%m-%d %H:%M:%S') }} | 
            <strong>Last Updated:</strong> {{ note.updated_at.strftime('%Y-%m-%d %H:%M:%S') }}
        </p>
        <div class="note-content">
            <p>{{ note.content }}</p>
        </div>
    </div>

    <!-- بخش ویرایش یادداشت -->
    <div class="section">
        <h2>Edit this Note</h2>
        <form action="/notes/{{ note.id }}/edit" method="post">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" value="{{ note.title }}" required>
            
            <label for="content">Content</label>
            <textarea id="content" name="content" required>{{ note.content }}</textarea>
            
            <button type="submit" class="btn btn-submit">Save Changes</button>
        </form>
    </div>

    <!-- بخش دکمه‌ها -->
    <div class="actions">
        <form action="/notes/{{ note.id }}/delete" method="post" onsubmit="return confirm('Are you sure you want to delete this note?');">
            <button type="submit" class="btn btn-delete">Delete Note</button>
        </form>
        <a href="/notes" class="btn btn-back">Back to List</a>
    </div>
{% endblock %}

